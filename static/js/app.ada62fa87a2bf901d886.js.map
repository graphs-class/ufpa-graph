{"version":3,"sources":["webpack:///static/js/app.ada62fa87a2bf901d886.js","webpack:///./src/worker-controller.js","webpack:///./src/store.js","webpack:///./src/utils.js","webpack:///./src/main.js","webpack:///./src/controls.js","webpack:///./src/workers/curriculum.worker.js","webpack:///./src/graphs.config.js","webpack:///./src/ui.js","webpack:///./src/config.js"],"names":["webpackJsonp","103","module","__webpack_exports__","__webpack_require__","receive","e","data","type","handler","clearNetwork","__WEBPACK_IMPORTED_MODULE_3__ui__","redrawNetwork","updateStore","updateNetwork","console","error","__WEBPACK_IMPORTED_MODULE_2__store__","people","productions","send","raw","msg","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","worker","postMessage","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","n","__WEBPACK_IMPORTED_MODULE_1__workers_curriculum_worker_js__","__WEBPACK_IMPORTED_MODULE_1__workers_curriculum_worker_js___default","a","onmessage","JSON","parse","104","addPerson","person","id","exists","getPerson","store","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default","addProduction","production","getProduction","authors","setPeople","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_get_iterator___default","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_values___default","next","done","value","err","return","setProductions","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_values__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_get_iterator__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign__","107","buildEdgeId","_ref3","_ref4","idA","idB","d","extractLattes","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from___default","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default","__WEBPACK_IMPORTED_MODULE_3_jszip__","__WEBPACK_IMPORTED_MODULE_3_jszip___default","__WEBPACK_IMPORTED_MODULE_4_xml2js__","__WEBPACK_IMPORTED_MODULE_5_pify__","__WEBPACK_IMPORTED_MODULE_5_pify___default","__WEBPACK_IMPORTED_MODULE_6_camel_case__","__WEBPACK_IMPORTED_MODULE_6_camel_case___default","__WEBPACK_IMPORTED_MODULE_7_imlazy__","__WEBPACK_IMPORTED_MODULE_7_imlazy___default","xmlParser","explicitRoot","tagNameProcessors","attrNameProcessors","_ref","mark","_callee","file","zip","lattes","wrap","_context","prev","loadAsync","sent","files","t0","t1","t2","String","fromCharCode","async","t3","t4","map","call","abrupt","join","stop","this","_x","apply","arguments","_ref2","_callee2","xml","_context2","parseString","141","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0__styles_app_scss__","__WEBPACK_IMPORTED_MODULE_1_bootstrap__","__WEBPACK_IMPORTED_MODULE_2_font_awesome_scss_font_awesome_scss__","142","exports","147","148","clickFileInput","preventDefault","$importInput","click","fileInputChanged","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","all","target","__WEBPACK_IMPORTED_MODULE_3__utils__","then","__WEBPACK_IMPORTED_MODULE_5__worker_controller__","changeFaceBtnClicked","face","getAttribute","$faceBtns","forEach","$btn","i","setAttribute","classList","remove","removeAttribute","add","__WEBPACK_IMPORTED_MODULE_2__config__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__","$importBtn","document","getElementById","querySelectorAll","addEventListener","211","Worker","p","228","285","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default","colors","edge","year","publicationType","dijkstra","defaultNode","shape","size","defaultPhysics","forceAtlas2Based","gravitationalConstant","centralGravity","springLength","springConstant","maxVelocity","solver","timestep","stabilization","iterations","options","0","nodes","edges","color","highlight","hover","physics","1","inherit","2","repulsion","37","init","redraw","__WEBPACK_IMPORTED_MODULE_11__config__","$dijkstraBtn","dijkstraMode","__WEBPACK_IMPORTED_MODULE_9__worker_controller__","clear","uniqueRelations","__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_set___default","length","filter","node","get","network","setOptions","prepareForDijkstra","update","itensToResetForDijkstra","innerText","onClick","_e$nodes","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_slicedToArray___default","nodesForDijkstra","log","runDijkstra","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_toConsumableArray___default","values","from","to","adjacencies","getIds","reduce","acc","route","__WEBPACK_IMPORTED_MODULE_8_node_dijkstra___default","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default","addNode","path","edgesToHighlight","slice","before","__WEBPACK_IMPORTED_MODULE_12__utils__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_toConsumableArray__","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_slicedToArray__","__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_set__","__WEBPACK_IMPORTED_MODULE_5_vis__","__WEBPACK_IMPORTED_MODULE_6_imlazy__","__WEBPACK_IMPORTED_MODULE_7_title_case__","__WEBPACK_IMPORTED_MODULE_8_node_dijkstra__","__WEBPACK_IMPORTED_MODULE_13__graphs_config_js__","$network","on","96","key","state","set","__WEBPACK_IMPORTED_MODULE_0_vis__"],"mappings":"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","file":"static/js/app.ada62fa87a2bf901d886.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 103:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = send;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(209);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__workers_curriculum_worker_js__ = __webpack_require__(211);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__workers_curriculum_worker_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__workers_curriculum_worker_js__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__store__ = __webpack_require__(104);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ui__ = __webpack_require__(37);\n\n\n\n\n\nvar worker = new __WEBPACK_IMPORTED_MODULE_1__workers_curriculum_worker_js___default.a();\n\nfunction receive(e, data) {\n  var type = data.type;\n\n\n  var handler = {\n    clearNetwork: __WEBPACK_IMPORTED_MODULE_3__ui__[\"a\" /* clearNetwork */],\n    redrawNetwork: __WEBPACK_IMPORTED_MODULE_3__ui__[\"c\" /* redraw */],\n    updateStore: function updateStore() {\n      return _updateStore(data.data);\n    },\n    updateNetwork: function updateNetwork() {\n      return __WEBPACK_IMPORTED_MODULE_3__ui__[\"d\" /* updateNetwork */](data);\n    }\n  }[type];\n\n  if (!handler) {\n    console.error('Missing handler for', type);\n  } else {\n    handler();\n  }\n}\n\nfunction _updateStore(data) {\n  __WEBPACK_IMPORTED_MODULE_2__store__[\"a\" /* setPeople */](data.people);\n  __WEBPACK_IMPORTED_MODULE_2__store__[\"b\" /* setProductions */](data.productions);\n  __WEBPACK_IMPORTED_MODULE_3__ui__[\"c\" /* redraw */]();\n}\n\nfunction send(raw) {\n  var msg = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(raw);\n  worker.postMessage(msg);\n}\n\nworker.onmessage = function onMessage(e) {\n  var data = JSON.parse(e.data);\n  receive(e, data);\n};\n\n/***/ }),\n\n/***/ 104:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export data */\n/* unused harmony export addPerson */\n/* unused harmony export addProduction */\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = setPeople;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = setProductions;\n/* unused harmony export getPerson */\n/* unused harmony export getProduction */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_values__ = __webpack_require__(212);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_values___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_values__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_get_iterator__ = __webpack_require__(69);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_get_iterator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_get_iterator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign__ = __webpack_require__(106);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign__);\n\n\n\nvar store = {\n  people: {},\n  productions: {}\n};\n\nfunction data() {\n  return store;\n}\n\nfunction addPerson(person) {\n  var id = person.id;\n\n\n  var exists = getPerson(id);\n  if (exists) return exists;\n\n  store.people[id] = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({\n    productions: {}\n  }, person);\n\n  return getPerson(id);\n}\n\nfunction addProduction(production) {\n  var id = production.id;\n\n\n  var exists = getProduction(id);\n  if (exists) return exists;\n\n  store.productions[id] = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({\n    authors: {}\n  }, production);\n\n  return getProduction(id);\n}\n\nfunction setPeople(people) {\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_get_iterator___default()(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_values___default()(people)), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var person = _step.value;\n\n      addPerson(person);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n}\n\nfunction setProductions(productions) {\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_get_iterator___default()(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_values___default()(productions)), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var production = _step2.value;\n\n      addProduction(production);\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2.return) {\n        _iterator2.return();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n}\n\nfunction getPerson(id) {\n  return store.people[id];\n}\n\nfunction getProduction(id) {\n  return store.productions[id];\n}\n\n/***/ }),\n\n/***/ 107:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return extractLattes; });\n/* unused harmony export parseXml */\n/* unused harmony export sameSet */\n/* unused harmony export contains */\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = buildEdgeId;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__ = __webpack_require__(220);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from__ = __webpack_require__(68);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator__ = __webpack_require__(223);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_jszip__ = __webpack_require__(224);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_jszip___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_jszip__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_xml2js__ = __webpack_require__(274);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_xml2js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_xml2js__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_pify__ = __webpack_require__(283);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_pify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_pify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_camel_case__ = __webpack_require__(284);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_camel_case___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_camel_case__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_imlazy__ = __webpack_require__(100);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_imlazy___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_imlazy__);\n\n\n\n\n\n\n\n\n\nvar xmlParser = new __WEBPACK_IMPORTED_MODULE_4_xml2js__[\"Parser\"]({\n  explicitRoot: false,\n  tagNameProcessors: [__WEBPACK_IMPORTED_MODULE_6_camel_case___default.a],\n  attrNameProcessors: [__WEBPACK_IMPORTED_MODULE_6_camel_case___default.a]\n});\n\nvar extractLattes = function () {\n  var _ref = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()( /*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee(file) {\n    var zip, lattes;\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return __WEBPACK_IMPORTED_MODULE_3_jszip___default.a.loadAsync(file);\n\n          case 2:\n            zip = _context.sent;\n            lattes = zip.files['curriculo.xml'];\n            _context.t0 = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from___default.a;\n            _context.t1 = __WEBPACK_IMPORTED_MODULE_7_imlazy___default.a;\n            _context.t2 = String.fromCharCode;\n            _context.next = 9;\n            return lattes.async('array');\n\n          case 9:\n            _context.t3 = _context.sent;\n            _context.t4 = _context.t1.map.call(_context.t1, _context.t2, _context.t3);\n            return _context.abrupt('return', (0, _context.t0)(_context.t4).join(''));\n\n          case 12:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function extractLattes(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar parseXml = function () {\n  var _ref2 = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_asyncToGenerator___default()( /*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee2(xml) {\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return __WEBPACK_IMPORTED_MODULE_5_pify___default()(xmlParser.parseString)(xml);\n\n          case 2:\n            return _context2.abrupt('return', _context2.sent);\n\n          case 3:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  return function parseXml(_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nfunction sameSet(A, B) {\n  return contains(A, B) && contains(B, A);\n}\n\nfunction contains(A, B) {\n  return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from___default()(B.values()).every(function (v) {\n    return A.has(v);\n  });\n}\n\nfunction buildEdgeId(_ref3, _ref4) {\n  var idA = _ref3.id;\n  var idB = _ref4.id;\n\n  if (idA > idB) {\n    return 'edge:' + idA + ':' + idB;\n  }\n  return 'edge:' + idB + ':' + idA;\n}\n\n/***/ }),\n\n/***/ 141:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__styles_app_scss__ = __webpack_require__(142);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__styles_app_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__styles_app_scss__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_bootstrap__ = __webpack_require__(144);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_bootstrap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_bootstrap__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_font_awesome_scss_font_awesome_scss__ = __webpack_require__(147);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_font_awesome_scss_font_awesome_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_font_awesome_scss_font_awesome_scss__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__controls__ = __webpack_require__(148);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ui__ = __webpack_require__(37);\n// Load app style\n\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_4__ui__[\"b\" /* init */]();\n\n/***/ }),\n\n/***/ 142:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 147:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 148:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__ = __webpack_require__(80);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from__ = __webpack_require__(68);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__config__ = __webpack_require__(96);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils__ = __webpack_require__(107);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ui__ = __webpack_require__(37);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__worker_controller__ = __webpack_require__(103);\n\n\n\n\n\n\n\nvar $importBtn = document.getElementById('import-modal-btn');\nvar $importInput = document.getElementById('import-file');\nvar $faceBtns = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from___default()(document.querySelectorAll('.change-face-btn'));\n\n$importBtn.addEventListener('click', clickFileInput);\n$importInput.addEventListener('change', fileInputChanged);\n$faceBtns.forEach(function ($btn) {\n  return $btn.addEventListener('click', changeFaceBtnClicked);\n});\n\nfunction clickFileInput(e) {\n  e.preventDefault();\n  $importInput.click();\n}\n\nfunction fileInputChanged(e) {\n  __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a.all(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from___default()(e.target.files).map(function (file) {\n    return __WEBPACK_IMPORTED_MODULE_3__utils__[\"b\" /* extractLattes */](file).then(function (xml) {\n      return __WEBPACK_IMPORTED_MODULE_5__worker_controller__[\"a\" /* send */]({\n        type: 'parseXml',\n        xml: xml\n      });\n    });\n  }));\n}\n\nfunction changeFaceBtnClicked(e) {\n  var face = +e.target.getAttribute('data-face');\n\n  $faceBtns.forEach(function ($btn, i) {\n    if (i === face) {\n      $btn.setAttribute('disabled', true);\n      $btn.classList.remove('btn-info');\n    } else {\n      $btn.removeAttribute('disabled');\n      $btn.classList.add('btn-info');\n    }\n  });\n\n  __WEBPACK_IMPORTED_MODULE_2__config__[\"b\" /* set */]('face', face);\n  __WEBPACK_IMPORTED_MODULE_5__worker_controller__[\"a\" /* send */]({\n    type: 'setFace',\n    face: face\n  });\n}\n\n/***/ }),\n\n/***/ 211:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = function () {\n  return new Worker(__webpack_require__.p + \"caa69aebae4324fb1056.worker.js\");\n};\n\n/***/ }),\n\n/***/ 228:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 285:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(286);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n\nvar colors = {\n  person: '#95a5a6',\n  edge: '#95a5a6',\n  year: '#2ecc71',\n  publicationType: '#34495e',\n  dijkstra: '#9b59b6'\n};\n\nvar defaultNode = {\n  shape: 'dot',\n  size: 16\n};\n\nvar defaultPhysics = {\n  forceAtlas2Based: {\n    gravitationalConstant: -300,\n    centralGravity: 0.005,\n    springLength: 230,\n    springConstant: 0.18\n  },\n\n  maxVelocity: 300,\n  solver: 'forceAtlas2Based',\n  timestep: 0.5,\n  stabilization: { iterations: 0 }\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  colors: colors,\n\n  options: {\n    0: {\n      nodes: defaultNode,\n\n      edges: {\n        color: {\n          color: colors.edge,\n          highlight: colors.edge,\n          hover: colors.edge\n        }\n      },\n\n      physics: defaultPhysics\n    },\n\n    1: {\n      nodes: defaultNode,\n\n      edges: {\n        color: {\n          inherit: true\n        }\n      },\n\n      physics: defaultPhysics\n    },\n\n    2: {\n      nodes: defaultNode,\n\n      edges: {\n        color: {\n          inherit: true\n        }\n      },\n\n      physics: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, defaultPhysics, {\n        repulsion: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, defaultPhysics.forceAtlas2Based, {\n          gravitationalConstant: -30000\n        }),\n\n        solver: 'repulsion'\n      })\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 37:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = init;\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = redraw;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = clearNetwork;\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = updateNetwork;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__ = __webpack_require__(170);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_get_iterator__ = __webpack_require__(69);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_get_iterator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_get_iterator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_toConsumableArray__ = __webpack_require__(176);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_toConsumableArray___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_toConsumableArray__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_slicedToArray__ = __webpack_require__(177);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_slicedToArray___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_slicedToArray__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_set__ = __webpack_require__(181);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_set___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_set__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_vis__ = __webpack_require__(97);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_vis___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_vis__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_imlazy__ = __webpack_require__(100);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_imlazy___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_imlazy__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_title_case__ = __webpack_require__(199);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_title_case___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_title_case__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_node_dijkstra__ = __webpack_require__(204);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_node_dijkstra___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_node_dijkstra__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__worker_controller__ = __webpack_require__(103);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__store__ = __webpack_require__(104);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__config__ = __webpack_require__(96);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__utils__ = __webpack_require__(107);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__graphs_config_js__ = __webpack_require__(285);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar $network = document.getElementById('network');\nvar $dijkstraBtn = document.getElementById('dijkstra-btn');\n\n\nvar colors = __WEBPACK_IMPORTED_MODULE_13__graphs_config_js__[\"a\" /* default */].colors,\n    options = __WEBPACK_IMPORTED_MODULE_13__graphs_config_js__[\"a\" /* default */].options;\n\n\nvar nodes = new __WEBPACK_IMPORTED_MODULE_5_vis__[\"DataSet\"]([]);\nvar edges = new __WEBPACK_IMPORTED_MODULE_5_vis__[\"DataSet\"]([]);\nvar network = new __WEBPACK_IMPORTED_MODULE_5_vis__[\"Network\"]($network, { nodes: nodes, edges: edges }, {});\n\nvar dijkstraMode = false;\nvar nodesForDijkstra = new __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_set___default.a();\nvar itensToResetForDijkstra = { nodes: [], edges: [] };\n\nvar uniqueRelations = new __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_set___default.a();\n\n$dijkstraBtn.addEventListener('click', prepareForDijkstra);\nnetwork.on('click', onClick);\n\nfunction init() {\n  redraw();\n}\n\nfunction redraw() {\n  var faceId = __WEBPACK_IMPORTED_MODULE_11__config__[\"a\" /* get */]('face');\n\n  if (faceId !== 0) {\n    $dijkstraBtn.setAttribute('disabled', true);\n  } else if (!dijkstraMode) {\n    $dijkstraBtn.removeAttribute('disabled');\n  }\n\n  __WEBPACK_IMPORTED_MODULE_9__worker_controller__[\"a\" /* send */]({ type: 'renderFace' });\n}\n\nfunction clearNetwork() {\n  nodes.clear();\n  edges.clear();\n  uniqueRelations = new __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_set___default.a();\n}\n\nfunction updateNetwork(data) {\n  if (data.nodes.length) {\n    nodes.add(data.nodes.filter(function (node) {\n      return !nodes.get(node.id);\n    }));\n  }\n\n  if (data.edges.length) {\n    if (__WEBPACK_IMPORTED_MODULE_11__config__[\"a\" /* get */]('face') === 1) {\n      // We put 0 valued to represent no interaction.\n      // Adding more lattes can make these invalid so I flush it.\n      edges.clear();\n    }\n\n    edges.add(data.edges.filter(function (edge) {\n      return !edges.get(edge.id);\n    }));\n  }\n\n  network.setOptions(options[data.face]);\n}\n\nfunction prepareForDijkstra() {\n  nodes.update(itensToResetForDijkstra.nodes.map(function (id) {\n    return { id: id, color: colors.person };\n  }));\n  edges.update(itensToResetForDijkstra.edges.map(function (id) {\n    return {\n      id: id,\n      color: {\n        color: colors.edge,\n        highlight: colors.edge,\n        hover: colors.edge\n      }\n    };\n  }));\n\n  dijkstraMode = true;\n  $dijkstraBtn.setAttribute('disabled', true);\n  $dijkstraBtn.innerText = 'Select two different nodes';\n}\n\nfunction onClick(e) {\n  if (dijkstraMode && e.nodes.length) {\n    var _e$nodes = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_slicedToArray___default()(e.nodes, 1),\n        node = _e$nodes[0];\n\n    nodesForDijkstra.add(node);\n\n    switch (nodesForDijkstra.size) {\n      case 2:\n        console.log({ nodesForDijkstra: nodesForDijkstra });\n        runDijkstra.apply(undefined, __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_toConsumableArray___default()(nodesForDijkstra.values()));\n        dijkstraMode = false;\n        $dijkstraBtn.innerText = 'Dijkstra';\n        $dijkstraBtn.removeAttribute('disabled');\n        nodesForDijkstra = new __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_set___default.a([]);\n        break;\n\n      case 1:\n        $dijkstraBtn.innerText = 'Select one more node';\n        break;\n    }\n  }\n}\n\nfunction runDijkstra(from, to) {\n  var adjacencies = nodes.getIds().reduce(function (acc, id) {\n    acc[id] = {};\n    return acc;\n  }, {});\n\n  edges.forEach(function (_ref) {\n    var from = _ref.from,\n        to = _ref.to,\n        value = _ref.value;\n\n    adjacencies[from][to] = value;\n    adjacencies[to][from] = value;\n  });\n\n  var route = new __WEBPACK_IMPORTED_MODULE_8_node_dijkstra___default.a();\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_get_iterator___default()(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default()(adjacencies)), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var id = _step.value;\n\n      route.addNode(id, adjacencies[id]);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  var path = route.path(from, to);\n\n  var edgesToHighlight = path.slice(1).map(function (node, i) {\n    var before = path[i];\n    return __WEBPACK_IMPORTED_MODULE_12__utils__[\"a\" /* buildEdgeId */]({ id: node }, { id: before });\n  });\n\n  nodes.update(path.map(function (id) {\n    return { id: id, color: colors.dijkstra };\n  }));\n  edges.update(edgesToHighlight.map(function (id) {\n    return {\n      id: id,\n      color: {\n        color: colors.dijkstra,\n        highlight: colors.dijkstra,\n        hover: colors.dijkstra\n      }\n    };\n  }));\n\n  itensToResetForDijkstra = {\n    nodes: path,\n    edges: edgesToHighlight\n  };\n}\n\n/***/ }),\n\n/***/ 96:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = get;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = set;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vis__ = __webpack_require__(97);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vis___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_vis__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ui__ = __webpack_require__(37);\n\n\n\nvar state = {\n  face: 0\n};\n\nfunction get(key) {\n  return state[key];\n}\n\nfunction set(key, value) {\n  state[key] = value;\n  return get(key);\n}\n\n/***/ })\n\n},[141]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.ada62fa87a2bf901d886.js","import CurriculumWorker from './workers/curriculum.worker.js'\nimport * as store from './store'\nimport * as ui from './ui'\n\nconst worker = new CurriculumWorker()\n\nfunction receive(e, data) {\n  const {type} = data\n\n  const handler = ({\n    clearNetwork: ui.clearNetwork,\n    redrawNetwork: ui.redraw,\n    updateStore: () => updateStore(data.data),\n    updateNetwork: () => ui.updateNetwork(data)\n  })[type]\n\n  if (!handler) {\n    console.error('Missing handler for', type)\n  } else {\n    handler()\n  }\n}\n\nfunction updateStore(data) {\n  store.setPeople(data.people)\n  store.setProductions(data.productions)\n  ui.redraw()\n}\n\nexport function send(raw) {\n  const msg = JSON.stringify(raw)\n  worker.postMessage(msg)\n}\n\nworker.onmessage = function onMessage(e) {\n  const data = JSON.parse(e.data)\n  receive(e, data)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/worker-controller.js","const store = {\n  people: {},\n  productions: {},\n}\n\nexport function data() {\n  return store\n}\n\nexport function addPerson(person) {\n  const {id} = person\n\n  const exists = getPerson(id)\n  if (exists) return exists\n\n  store.people[id] = Object.assign({\n    productions: {},\n  }, person)\n\n  return getPerson(id)\n}\n\nexport function addProduction(production) {\n  const {id} = production\n\n  const exists = getProduction(id)\n  if (exists) return exists\n\n  store.productions[id] = Object.assign({\n    authors: {},\n  }, production)\n\n  return getProduction(id)\n}\n\nexport function setPeople(people) {\n  for (let person of Object.values(people)) {\n    addPerson(person)\n  }\n}\n\nexport function setProductions(productions) {\n  for (let production of Object.values(productions)) {\n    addProduction(production)\n  }\n}\n\nexport function getPerson(id) {\n  return store.people[id]\n}\n\nexport function getProduction(id) {\n  return store.productions[id]\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/store.js","import JSZip from 'jszip'\nimport {parseString, Parser} from 'xml2js'\nimport promisify from 'pify'\nimport camelCase from 'camel-case'\nimport lazy from 'imlazy'\n\nconst xmlParser = new Parser({\n  explicitRoot: false,\n  tagNameProcessors: [camelCase],\n  attrNameProcessors: [camelCase],\n})\n\nexport async function extractLattes(file) {\n  const zip = await JSZip.loadAsync(file)\n  const lattes = zip.files['curriculo.xml']\n  return Array.from( // fuck ISO-8859-1\n    lazy.map(String.fromCharCode, await lattes.async('array'))\n  ).join('')\n}\n\nexport async function parseXml(xml) {\n  return await promisify(xmlParser.parseString)(xml)\n}\n\nexport function sameSet (A, B) {\n  return contains(A, B) && contains(B, A)\n}\n\nexport function contains (A, B) {\n  return Array.from(B.values()).every(v => A.has(v))\n}\n\nexport function buildEdgeId({id: idA}, {id: idB}) {\n  if (idA > idB) {\n    return `edge:${idA}:${idB}`\n  }\n  return `edge:${idB}:${idA}`\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils.js","// Load app style\nimport '@/styles/app.scss'\nimport 'bootstrap'\nimport 'font-awesome/scss/font-awesome.scss'\nimport './controls'\nimport * as ui from './ui'\n\nui.init()\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import * as config from './config'\nimport * as utils from './utils'\nimport * as ui from './ui'\nimport * as worker from './worker-controller'\n\nconst $importBtn = document.getElementById('import-modal-btn')\nconst $importInput = document.getElementById('import-file')\nconst $faceBtns = Array.from(document.querySelectorAll('.change-face-btn'))\n\n$importBtn.addEventListener('click', clickFileInput)\n$importInput.addEventListener('change', fileInputChanged)\n$faceBtns.forEach($btn =>\n  $btn.addEventListener('click', changeFaceBtnClicked)\n)\n\nfunction clickFileInput(e) {\n  e.preventDefault()\n  $importInput.click()\n}\n\nfunction fileInputChanged(e) {\n  Promise.all(Array.from(e.target.files).map(file =>\n    utils.extractLattes(file).then(xml =>\n      worker.send({\n        type: 'parseXml',\n        xml\n      })\n    )\n  ))\n}\n\nfunction changeFaceBtnClicked(e) {\n  const face = +e.target.getAttribute('data-face')\n\n  $faceBtns.forEach(($btn, i) => {\n    if (i === face) {\n      $btn.setAttribute('disabled', true)\n      $btn.classList.remove('btn-info')\n    } else {\n      $btn.removeAttribute('disabled')\n      $btn.classList.add('btn-info')\n    }\n  })\n\n  config.set('face', face)\n  worker.send({\n    type: 'setFace',\n    face,\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/controls.js","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"caa69aebae4324fb1056.worker.js\");\n};\n\n\n// WEBPACK FOOTER //\n// ./src/workers/curriculum.worker.js","const colors = {\n  person: '#95a5a6',\n  edge: '#95a5a6',\n  year: '#2ecc71',\n  publicationType: '#34495e',\n  dijkstra: '#9b59b6',\n}\n\nconst defaultNode = {\n  shape: 'dot',\n  size: 16,\n}\n\nconst defaultPhysics = {\n  forceAtlas2Based: {\n    gravitationalConstant: -300,\n    centralGravity: 0.005,\n    springLength: 230,\n    springConstant: 0.18\n  },\n\n  maxVelocity: 300,\n  solver: 'forceAtlas2Based',\n  timestep: 0.5,\n  stabilization: {iterations: 0}\n}\n\nexport default {\n  colors,\n\n  options: {\n    0: {\n      nodes: defaultNode,\n\n      edges: {\n        color: {\n          color: colors.edge,\n          highlight: colors.edge,\n          hover: colors.edge,\n        },\n      },\n\n      physics: defaultPhysics,\n    },\n\n    1: {\n      nodes: defaultNode,\n\n      edges: {\n        color: {\n          inherit: true,\n        },\n      },\n\n      physics: defaultPhysics,\n    },\n\n    2: {\n      nodes: defaultNode,\n\n      edges: {\n        color: {\n          inherit: true,\n        },\n      },\n\n      physics: {\n        ...defaultPhysics,\n        repulsion: {\n          ...defaultPhysics.forceAtlas2Based,\n          gravitationalConstant: -30000,\n        },\n\n        solver: 'repulsion',\n      }\n    }\n  },\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/graphs.config.js","import vis, {DataSet, Network} from 'vis'\nimport lazy from 'imlazy'\nimport titleCase from 'title-case'\nimport dijkstra from 'node-dijkstra'\n\nimport * as worker from './worker-controller'\nimport * as store from './store'\nimport * as config from './config'\nimport * as utils from './utils'\n\nconst $network = document.getElementById('network')\nconst $dijkstraBtn = document.getElementById('dijkstra-btn')\n\nimport graphsConfig from './graphs.config.js'\nconst {colors, options} = graphsConfig\n\nlet nodes = new DataSet([])\nlet edges = new DataSet([])\nlet network = new Network($network, {nodes, edges}, {})\n\nlet dijkstraMode = false\nlet nodesForDijkstra = new Set()\nlet itensToResetForDijkstra = {nodes: [], edges: []}\n\nlet uniqueRelations = new Set()\n\n$dijkstraBtn.addEventListener('click', prepareForDijkstra)\nnetwork.on('click', onClick)\n\nexport function init() {\n  redraw()\n}\n\nexport function redraw() {\n  const faceId = config.get('face')\n\n  if (faceId !== 0) {\n    $dijkstraBtn.setAttribute('disabled', true)\n  } else if (!dijkstraMode) {\n    $dijkstraBtn.removeAttribute('disabled')\n  }\n\n  worker.send({ type: 'renderFace' })\n}\n\nexport function clearNetwork() {\n  nodes.clear()\n  edges.clear()\n  uniqueRelations = new Set()\n}\n\nexport function updateNetwork(data) {\n  if (data.nodes.length) {\n    nodes.add(data.nodes.filter(node => !nodes.get(node.id)))\n  }\n\n  if (data.edges.length) {\n    if (config.get('face') === 1) {\n      // We put 0 valued to represent no interaction.\n      // Adding more lattes can make these invalid so I flush it.\n      edges.clear()\n    }\n\n    edges.add(data.edges.filter(edge => !edges.get(edge.id)))\n  }\n\n  network.setOptions(options[data.face])\n}\n\nfunction prepareForDijkstra() {\n  nodes.update(itensToResetForDijkstra.nodes.map(id => ({id, color: colors.person})))\n  edges.update(itensToResetForDijkstra.edges.map(id => ({\n    id,\n    color: {\n      color: colors.edge,\n      highlight: colors.edge,\n      hover: colors.edge,\n    }\n  })))\n\n  dijkstraMode = true\n  $dijkstraBtn.setAttribute('disabled', true)\n  $dijkstraBtn.innerText = 'Select two different nodes'\n}\n\nfunction onClick(e) {\n  if (dijkstraMode && e.nodes.length) {\n    const [node] = e.nodes\n\n    nodesForDijkstra.add(node)\n\n    switch (nodesForDijkstra.size) {\n      case 2:\n        console.log({nodesForDijkstra});\n        runDijkstra(...nodesForDijkstra.values())\n        dijkstraMode = false\n        $dijkstraBtn.innerText = 'Dijkstra'\n        $dijkstraBtn.removeAttribute('disabled')\n        nodesForDijkstra = new Set([])\n        break\n\n      case 1:\n        $dijkstraBtn.innerText = 'Select one more node'\n        break\n    }\n  }\n}\n\nfunction runDijkstra(from, to) {\n  const adjacencies = nodes.getIds()\n    .reduce((acc, id) => {\n      acc[id] = {}\n      return acc\n    }, {})\n\n  edges.forEach(({from, to, value}) => {\n    adjacencies[from][to] = value\n    adjacencies[to][from] = value\n  })\n\n  const route = new dijkstra()\n\n  for (let id of Object.keys(adjacencies)) {\n    route.addNode(id, adjacencies[id])\n  }\n\n  const path = route.path(from, to)\n\n  const edgesToHighlight = path.slice(1)\n    .map((node, i) => {\n      const before = path[i]\n      return utils.buildEdgeId({id: node}, {id: before})\n    })\n\n  nodes.update(path.map(id => ({id, color: colors.dijkstra})))\n  edges.update(edgesToHighlight.map(id => ({\n    id,\n    color: {\n      color: colors.dijkstra,\n      highlight: colors.dijkstra,\n      hover: colors.dijkstra,\n    }\n  })))\n\n  itensToResetForDijkstra = {\n    nodes: path,\n    edges: edgesToHighlight,\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui.js","import {DataSet} from 'vis'\nimport * as ui from './ui'\n\nconst state = {\n  face: 0,\n}\n\nexport function get(key) {\n  return state[key]\n}\n\nexport function set(key, value) {\n  state[key] = value\n  return get(key)\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/config.js"],"sourceRoot":""}